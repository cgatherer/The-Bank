KJE.Default.TaxRate=25;KJE.Default.TaxRateRetire=15;KJE.Default.TaxRateCapGain=15;KJE.Default.StateTaxRate=8;KJE.Default.IncomeTaxTableTaxYear="Use the table below to assist you in estimating your federal tax rate. <div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Income Tax Rates 2015*</caption><tr class=KJEFooterRow><th class='KJELabel KJECell10 KJECenter' style='vertical-align:bottom;'>Tax Rate</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Married Filing Jointly or Qualified Widow(er)</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Single</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Head of Household</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Married Filing Separately</th></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>10%</td><td class='KJECell KJECellBorder'>$0 - $18,450</td><td class='KJECell KJECellBorder'>$0 - $9,225</td><td class='KJECell KJECellBorder'>$0 - $13,150</td><td class='KJECell'>$0 - $9,225</td></tr><tr class=KJEEvenRow style='margin-top:10px;'><td class='KJELabel KJECellBorder KJELabelPad'>15%</td><td class='KJECell KJECellBorder'>$18,450 - $74,900</td><td class='KJECell KJECellBorder'>$9,225 - $37,450</td><td class='KJECell KJECellBorder'>$13,150 - $50,200</td><td class='KJECell'>$9,225 - $37,450</td></tr><tr class=KJEOddRow><td class='KJELabel KJECellBorder KJELabelPad'>25%</td><td class='KJECell KJECellBorder'>$74,900 - $151,200</td><td class='KJECell KJECellBorder'>$37,450 - $90,750</td><td class='KJECell KJECellBorder'>$50,200 - $129,600</td><td class='KJECell'>$37,450 - $75,600</td></tr><tr class=KJEEvenRow><td class='KJELabel KJECellBorder KJELabelPad'>28%</td><td class='KJECell KJECellBorder'>$151,200 - $230,450</td><td class='KJECell KJECellBorder'>$90,750 - $189,300</td><td class='KJECell KJECellBorder'>$129,600 - $209,850</td><td class='KJECell'>$75,600 - $115,225</td></tr><tr class=KJEOddRow><td class='KJELabel KJECellBorder KJELabelPad'>33%</td><td class='KJECell KJECellBorder'>$230,450 - $411,500</td><td class='KJECell KJECellBorder'>$189,300 - $411,500</td><td class='KJECell KJECellBorder'>$209,850 - $411,500</td><td class='KJECell'>$115,225 - $205,750</td></tr><tr class=KJEEvenRow><td class='KJELabel KJECellBorder KJELabelPad'>35%</td><td class='KJECell KJECellBorder'>$411,500 - $464,850</td><td class='KJECell KJECellBorder'>$411,500- $413,200</td><td class='KJECell KJECellBorder'>$411,500 - $439,000 </td><td class='KJECell'>$205,750 - $232,425</td></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>39.6%</td><td class='KJECell KJECellBorder'>over $464,850</td><td class='KJECell KJECellBorder'>over $413,200</td><td class='KJECell KJECellBorder'>over $439,000</td><td class='KJECell'>over $232,425</td></tr><tr class=KJEFooterRow><td class='KJEFooter KJELabelPad' COLSPAN='5'><div align=center>*Caution: Do not use these tax rate schedules to figure 2014 taxes. Use only to figure 2015 estimates. Source: 2014 Rev. Proc. 2014-61</div></td></tr></table></div>";KJE.Default.IncomeTaxTableCurrent="Use the table below to assist you in estimating your federal tax rate. <div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Income Tax Rates 2016*</caption><tr class=KJEFooterRow><th class='KJELabel KJECell10 KJECenter' style='vertical-align:bottom;'>Tax Rate</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Married Filing Jointly or Qualified Widow(er)</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Single</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Head of Household</th><th class='KJELabel KJECell225 KJECenter' style='vertical-align:bottom;'>Married Filing Separately</th></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>10%</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$18,550</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$9,275</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$13,250</td><td class='KJECell'>$0 -&nbsp;$9,275</td></tr><tr class=KJEEvenRow style='margin-top:10px;'><td class='KJELabel KJECellBorder KJELabelPad'>15%</td><td class='KJECell KJECellBorder'>$18,550 -&nbsp;$75,300</td><td class='KJECell KJECellBorder'>$9,275 -&nbsp;$37,650</td><td class='KJECell KJECellBorder'>$13,250 -&nbsp;$50,400</td><td class='KJECell'>$9,275 -&nbsp;$37,650</td></tr><tr class=KJEOddRow><td class='KJELabel KJECellBorder KJELabelPad'>25%</td><td class='KJECell KJECellBorder'>$75,300 -&nbsp;$151,900</td><td class='KJECell KJECellBorder'>$37,650 -&nbsp;$91,150</td><td class='KJECell KJECellBorder'>$50,400 -&nbsp;$130,150</td><td class='KJECell'>$37,650 -&nbsp;$75,950</td></tr><tr class=KJEEvenRow><td class='KJELabel KJECellBorder KJELabelPad'>28%</td><td class='KJECell KJECellBorder'>$151,900 -&nbsp;$231,450</td><td class='KJECell KJECellBorder'>$91,150 -&nbsp;$190,150</td><td class='KJECell KJECellBorder'>$130,150 -&nbsp;$210,800</td><td class='KJECell'>$75,950 -&nbsp;$115,725</td></tr><tr class=KJEOddRow><td class='KJELabel KJECellBorder KJELabelPad'>33%</td><td class='KJECell KJECellBorder'>$231,450  -$413,350</td><td class='KJECell KJECellBorder'>$190,150 -&nbsp;$413,350</td><td class='KJECell KJECellBorder'>$210,800 -&nbsp;$413,350</td><td class='KJECell'>$115,725 -&nbsp;$206,675</td></tr><tr class=KJEEvenRow><td class='KJELabel KJECellBorder KJELabelPad'>35%</td><td class='KJECell KJECellBorder'>$413,350  -$466,950</td><td class='KJECell KJECellBorder'>$413,350 -&nbsp;$415,050</td><td class='KJECell KJECellBorder'>$413,350 -&nbsp;$441,000</td><td class='KJECell'>$206,675 -&nbsp;$233,475</td></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>39.6%</td><td class='KJECell KJECellBorder'>Over$466,950 </td><td class='KJECell KJECellBorder'>Over$415,050 </td><td class='KJECell KJECellBorder'>Over$441,000 </td><td class='KJECell'>Over$233,475 </td></tr><tr class=KJEFooterRow><td class='KJEFooter KJELabelPad' COLSPAN='5'><div align=center>*Caution: Do not use these tax rate schedules to figure 2015 taxes. Use only to figure 2016 estimates. Source: 2015 Rev. Proc. 2015-61</div></td></tr></table></div>";KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);KJE.parameters.set("MSG_GRAPH_TITLE","Your current plan produces CURRENT_ENDING_BALANCE after YEARS_TO_SAVE years before taxes and inflation.");KJE.parameters.set("MSG_GRAPH_TITLE_SHORT","After YEARS_TO_SAVE years you may have CURRENT_ENDING_BALANCE before taxes & inflation.");KJE.InvestmentVariablesCalc=function(){this.PAYMENTS_AT_START=false;this.STATE_TAXES_DEDUCTIBLE=true;this.sPaymentStart=KJE.parameters.get("MSG_PAYMENT_END","start");this.sPaymentEnd=KJE.parameters.get("MSG_PAYMENT_START","end");this.COMPOUND_INDEX=KJE.Default.COMPOUND_ANNUALLY;this.COMPOUND_DESC="";this.MSG_GRAPH_TITLE=KJE.parameters.get("MSG_GRAPH_TITLE","Your current plan produces CURRENT_ENDING_BALANCE after YEARS_TO_SAVE years before taxes and inflation.");this.MSG_GRAPH_TITLE_SHORT=KJE.parameters.get("MSG_GRAPH_TITLE_SHORT","After YEARS_TO_SAVE years you may have CURRENT_ENDING_BALANCE before taxes & inflation.");this.YEARS_TO_SAVE=0;this.SHOW_TAXES=true;this.NBR_PERIODS=12;this.RQD_SAVE_TIME=0;this.MARGINAL_TAX_RATE=0;this.PERIODS_TO_TARGET_AF=0;this.RQD_CURRENT_AF=0;this.RQD_SAVE_PERIOD_AF=0;this.FRACTION_YEARS_TO_TARGET=0;this.DS_CURRENT=null;this.DS_NEW=null;this.DS_INFLATION=null;this.CURRENT_ENDING_BALANCE=0;this.CURRENT_ENDING_BALANCE_AF=0;this.CURRENT_ENDING_BALANCE_AFI=0;this.MSG_EXCEED=KJE.parameters.get("MSG_EXCEED","Your plan is on track to exceed your goal of AMT_TARGET.");this.MSG_MADE=KJE.parameters.get("MSG_MADE","Your plan is on track to meet your goal of AMT_TARGET.");this.MSG_FAIL=KJE.parameters.get("MSG_FAIL","Your plan falls short of your goal of AMT_TARGET.");this.MSG_CHANGE_TAX=KJE.parameters.get("MSG_CHANGE_TAX","To meet your target you might need to do one of the following:<UL><LI>Change your initial investment to <strong>RQD_CURRENT</strong> or if the earnings are taxed <strong>RQD_CURRENT_AF</strong><LI>Change your SAVING_FREQUENCY contributions to <strong>RQD_SAVE_PERIOD</strong> or if the earnings are taxed <strong>RQD_SAVE_PERIOD_AF</strong> <LI>Receive an rate of return of <strong>RQR_ROR_BFTAX</strong> or if the earnings are taxed <strong>RQR_ROR_AFTAX</strong>.</LI><LI>Change the number of years to invest to <strong>YEARS_TO_TARGET</strong> or if the earnings are taxed <strong>YEARS_TO_TARGET_AF</strong></LI></UL>");this.MSG_CHANGE_NOTAX=KJE.parameters.get("MSG_CHANGE_NOTAX","To meet your target you might need to do one of the following:<UL><LI>Change your initial investment to <strong>RQD_CURRENT</strong><LI>Change your SAVING_FREQUENCY contributions to <strong>RQD_SAVE_PERIOD</strong></LI><LI>Receive an rate of return of <strong>RQR_ROR_BFTAX</strong></LI><LI>Change the number of years to invest to <strong>YEARS_TO_TARGET</strong></LI></UL>");this.cats=new Array(100);var a=this.cats;for(var b=0;b<100;b++){a[b]=""+b}this.sSchedule=new KJE.Repeating()};KJE.InvestmentVariablesCalc.prototype.clear=function(){this.AMT_TARGET=0;this.YEARS_TO_TARGET=0;this.AMT_CURRENT=0;this.AMT_SAVE_PERIOD=0;this.ROR_INVEST=0;this.FED_TAX_RATE=0;this.STATE_TAX_RATE=0;this.INFLATION_RATE=0;this.FREQ_INDEX=KJE.Default.SAVE_MONTHLY};KJE.InvestmentVariablesCalc.prototype.calculate=function(D){var l=KJE;var p=this.AMT_TARGET;var B=this.YEARS_TO_TARGET;var F=this.AMT_CURRENT;var E=this.AMT_SAVE_PERIOD;var x=this.ROR_INVEST;var w=this.FED_TAX_RATE;var b=this.STATE_TAX_RATE;var h=this.INFLATION_RATE;var G=0;var z=0;var n=0;var v="";var e=false;var u="";var d=KJE.Default.COMPOUND_FREQ[this.COMPOUND_INDEX];var A=KJE.Default.SAVE_FREQ[this.FREQ_INDEX];this.COMPOUND_DESC=KJE.Default.COMPOUND_DESC[this.COMPOUND_INDEX];this.SAVING_FREQUENCY=KJE.Default.SAVE_DESC[this.FREQ_INDEX];var C=this.YEARS_TO_SAVE*A;this.MARGINAL_TAX_RATE=(w/100+b/100);if(this.STATE_TAXES_DEDUCTIBLE){this.MARGINAL_TAX_RATE=l.round(1-(1-b/100)*(1-w/100),10)}var g=l.round((x/100)*(1-(this.MARGINAL_TAX_RATE)),10);var o=g*(1-(h/100));if(d==A){G=(x/A)/100;z=(g/A);o=(o/A)}else{var f=0;var r=0;var k=0;if(d==1){f=x/100;r=g;k=o}else{f=1/Math.pow((1+x/(d*100)),(-1*d))-1;r=1/Math.pow((1+g/(d)),(-1*d))-1;k=1/Math.pow((1+o/(d)),(-1*d))-1}G=Math.pow(1+(f),1/A)-1;z=Math.pow(1+(r),1/A)-1;o=Math.pow(1+(k),1/A)-1}this.CURRENT_ENDING_BALANCE=this.solveForEndingBalance(F,G,C,E,this.PAYMENTS_AT_START);this.CURRENT_ENDING_BALANCE_AF=this.solveForEndingBalance(F,z,C,E,this.PAYMENTS_AT_START);this.CURRENT_ENDING_BALANCE_AFI=KJE.NPV_AMT(h/100,this.YEARS_TO_SAVE,this.CURRENT_ENDING_BALANCE_AF);var t=this.solveForPeriods(p,F,G,E,this.PAYMENTS_AT_START);this.PERIODS_TO_TARGET_AF=this.solveForPeriods(p,F,z,E,this.PAYMENTS_AT_START);var a=this.solveForCurrentAmt(p,G,C,E,this.PAYMENTS_AT_START);this.RQD_CURRENT_AF=this.solveForCurrentAmt(p,z,C,E,this.PAYMENTS_AT_START);var c=this.solveForSaveAmt(p,F,G,C,this.PAYMENTS_AT_START);this.RQD_SAVE_PERIOD_AF=this.solveForSaveAmt(p,F,z,C,this.PAYMENTS_AT_START);var H=KJE.FV_AMT(this.solveForROR(p,F,C,E,this.PAYMENTS_AT_START),A,1)-1;if(this.STATE_TAXES_DEDUCTIBLE){n=H/(1-w/100);n=n/(1-b/100)}else{n=(H/100)/(1-(w/100+b/100))}this.FRACTION_YEARS_TO_TARGET=t/A;B=l.round(t/A,1);if(this.CURRENT_ENDING_BALANCE>(p-1)){v=this.MSG_EXCEED;e=true;u=""}else{if(this.CURRENT_ENDING_BALANCE<p-1){v=this.MSG_FAIL;e=false;u=(this.SHOW_TAXES?this.MSG_CHANGE_TAX:this.MSG_CHANGE_NOTAX)}else{v=this.MSG_MADE;e=true;u=""}}v=KJE.replace("AMT_TARGET",l.dollars(p,0),v);this.DS_CURRENT=KJE.FloatArray(this.YEARS_TO_SAVE+1);this.DS_NEW=KJE.FloatArray(this.YEARS_TO_SAVE+1);this.DS_INFLATION=KJE.FloatArray(this.YEARS_TO_SAVE+1);this.MSG_GRAPH_RESULT=KJE.replace("YEARS_TO_SAVE",l.number(this.YEARS_TO_SAVE),KJE.replace("CURRENT_ENDING_BALANCE",l.dollars(this.CURRENT_ENDING_BALANCE),this.MSG_GRAPH_TITLE));if(D){var m=this.sSchedule;m.clearRepeat();m.addHeader(m.sReportCol("Year",1),m.sReportCol("Balance",2),(this.SHOW_TAXES?m.sReportCol("Balance After</br>Taxes",3):null),(this.SHOW_TAXES?m.sReportCol("Balance After<br/>Inflation and Taxes",4):m.sReportCol("Balance After</br>Inflation",4)));m.addRepeat("&nbsp;",l.dollars(F),m.sReportCol("Starting Balance",5)+" "+(this.SHOW_TAXES?l.dollars(F):""),m.sReportCol("Starting Balance",5)+" "+l.dollars(F))}for(var y=0;y<=this.YEARS_TO_SAVE;y++){var q=this.solveAmtAtYear(y,F,G,A,E,this.PAYMENTS_AT_START);var s=this.solveAmtAtYear(y,F,z,A,E,this.PAYMENTS_AT_START);var j=KJE.NPV_AMT(h/100,y,s);this.DS_CURRENT[y]=(q);this.DS_NEW[y]=(s);this.DS_INFLATION[y]=(j);if(D&&y>0){m.addRepeat(y,l.dollars(q),(this.SHOW_TAXES?l.dollars(s):null),l.dollars(j))}}this.YEARS_TO_TARGET=B;this.PERIODS_BF_TARGET=C;this.PERIODIC_ROR=G;this.RATE_AFTER_TAX=g;this.PERIODIC_ROR_AF=z;this.PERIODIC_ROR_AFI=o;this.PERIODS_TO_TARGET=t;this.RQD_CURRENT=a;this.RQD_SAVE_PERIOD=c;this.RQR_ROR_BFTAX=H;this.RQR_ROR_AFTAX=n;this.YOU_MADE_IT=v;this.MADE_IT=e;this.CHANGE_MSG=u;this.NBR_PERIODS=A;this.COMPOUND_INTEREST=d};KJE.InvestmentVariablesCalc.prototype.formatReport=function(b){var c=KJE;var a=this.iDecimal;var d=b;d=KJE.replace("YOU_MADE_IT",this.YOU_MADE_IT,d);d=KJE.replace("CHANGE_MSG",this.CHANGE_MSG,d);d=KJE.replace("PAYMENTS_AT_START",(this.PAYMENTS_AT_START?this.sPaymentStart:this.sPaymentEnd),d);d=KJE.replace("STATE_TAXES_DEDUCTIBLE",c.yesno(this.STATE_TAXES_DEDUCTIBLE),d);d=KJE.replace("COMPOUND_DESC",this.COMPOUND_DESC,d);d=KJE.replace("RATE_AFTER_TAX",c.percent(this.RATE_AFTER_TAX/100,3),d);d=KJE.replace("PERIODIC_ROR_AFI",c.percent(this.PERIODIC_ROR_AFI/100/3),d);d=KJE.replace("PERIODIC_ROR_AF",c.percent(this.PERIODIC_ROR_AF/100/3),d);d=KJE.replace("AMT_CURRENT",c.dollars(this.AMT_CURRENT),d);d=KJE.replace("CURRENT_ENDING_BALANCE_AFI",c.dollars(this.CURRENT_ENDING_BALANCE_AFI),d);d=KJE.replace("CURRENT_ENDING_BALANCE_AF",c.dollars(this.CURRENT_ENDING_BALANCE_AF),d);d=KJE.replace("CURRENT_ENDING_BALANCE",c.dollars(this.CURRENT_ENDING_BALANCE),d);d=KJE.replace("AMT_SAVE_PERIOD",c.dollars(this.AMT_SAVE_PERIOD),d);d=KJE.replace("ROR_INVEST",c.percent(this.ROR_INVEST/100,2),d);d=KJE.replace("FED_TAX_RATE",c.percent(this.FED_TAX_RATE/100),d);d=KJE.replace("STATE_TAX_RATE",c.percent(this.STATE_TAX_RATE/100),d);d=KJE.replace("MARGINAL_TAX_RATE",c.percent(this.MARGINAL_TAX_RATE,3),d);d=KJE.replace("INFLATION_RATE",c.percent(this.INFLATION_RATE/100,2),d);d=KJE.replace("YEARS_TO_SAVE",c.number(this.YEARS_TO_SAVE),d);d=KJE.replace("PERIODIC_ROR",c.percent(this.PERIODIC_ROR,2),d);d=KJE.replace("RQD_CURRENT_AF",c.dollars(this.RQD_CURRENT_AF),d);d=KJE.replace("RQD_CURRENT",c.dollars(this.RQD_CURRENT),d);d=KJE.replace("RQD_SAVE_TIME",c.number(this.RQD_SAVE_TIME,1),d);d=KJE.replace("RQD_SAVE_PERIOD_AF",c.dollars(this.RQD_SAVE_PERIOD_AF),d);d=KJE.replace("RQD_SAVE_PERIOD",c.dollars(this.RQD_SAVE_PERIOD),d);if(this.RQR_ROR_BFTAX>300){d=KJE.replace("RQR_ROR_BFTAX","N/A",d);d=KJE.replace("RQR_ROR_AFTAX","N/A",d);d=KJE.replace("PERIODS_TO_TARGET_AF","N/A",d);d=KJE.replace("PERIODS_TO_TARGET","N/A",d);d=KJE.replace("YEARS_TO_TARGET_AF","N/A",d);d=KJE.replace("YEARS_TO_TARGET","N/A",d)}else{d=KJE.replace("RQR_ROR_BFTAX",c.percent(this.RQR_ROR_BFTAX,2),d);d=KJE.replace("RQR_ROR_AFTAX",c.percent(this.RQR_ROR_AFTAX,2),d);d=KJE.replace("PERIODS_TO_TARGET_AF",c.number(this.PERIODS_TO_TARGET_AF),d);d=KJE.replace("PERIODS_TO_TARGET",c.number(this.PERIODS_TO_TARGET),d);d=KJE.replace("YEARS_TO_TARGET_AF",c.number(this.PERIODS_TO_TARGET_AF/this.NBR_PERIODS,2),d);d=KJE.replace("YEARS_TO_TARGET",c.number(this.PERIODS_TO_TARGET/this.NBR_PERIODS,2),d)}d=KJE.replace("FRACTION_YEARS_TO_TARGET",c.number(this.FRACTION_YEARS_TO_TARGET,1),d);d=KJE.replace("YEARS_TO_TARGET",c.number(this.YEARS_TO_TARGET),d);d=KJE.replace("PERIODS_TO_TARGET",c.number(this.PERIODS_TO_TARGET),d);d=KJE.replace("YOU_MADE_IT",this.YOU_MADE_IT,d);d=KJE.replace("AMT_TARGET",c.dollars(this.AMT_TARGET),d);d=KJE.replace("NBR_PERIODS",c.number(this.NBR_PERIODS),d);d=KJE.replace("SAVING_FREQUENCY_LOWER",this.SAVING_FREQUENCY.toLowerCase(),d);d=KJE.replace("SAVING_FREQUENCY_SHORT",KJE.Default.SAVE_SHORT_DESC[this.FREQ_INDEX],d);d=KJE.replace("SAVING_FREQUENCY",this.SAVING_FREQUENCY,d);d=KJE.replace("COMPOUND_SELECTION_LOWER",KJE.Default.COMPOUND_SELECTIONS[this.COMPOUND_INDEX].toLowerCase(),d);d=KJE.replace("COMPOUND_SELECTION",KJE.Default.COMPOUND_SELECTIONS[this.COMPOUND_INDEX],d);d=d.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return d};KJE.InvestmentVariablesCalc.prototype.solveForPeriods=function(b,c,d,g,a){var f=1000;var h=1000/2;if(c>b){f=-1000/2}for(var e=0;e<30;e++){if(this.ifTargetGreater(b,c,d,f,g,a)){f+=h}else{f-=h}h=h/2}return f};KJE.InvestmentVariablesCalc.prototype.getAmts=function(){return this.DS_CURRENT};KJE.InvestmentVariablesCalc.prototype.solveAmtAtYear=function(c,b,d,e,f,a){return KJE.FV_AMT(d,e*c,b)+(a?KJE.FV_BEGIN(d,e*c,f):KJE.FV(d,e*c,f))};KJE.InvestmentVariablesCalc.prototype.solveForCurrentAmt=function(g,b,f,j,a){var h=100000000/2;var e=100000000/4;var c=KJE.round(this.solveForEndingBalance(0,b,f,j,a),0);if(c>g){h=-100000000/2}for(var d=0;d<50;d++){if(this.ifTargetGreater(g,h,b,f,j,a)){h+=e}else{h-=e}e=e/2}return h};KJE.InvestmentVariablesCalc.prototype.solveForSaveAmt=function(b,c,d,f,a){var g=100000/2;var h=100000/4;if(this.solveForEndingBalance(c,d,f,0,a)>b){g=-100000/2}for(var e=0;e<30;e++){if(this.ifTargetGreater(b,c,d,f,g,a)){g+=h}else{g-=h}h=h/2}return g};KJE.InvestmentVariablesCalc.prototype.solveForROR=function(b,c,f,g,a){var d=3;var h=d/2;if(this.solveForEndingBalance(c,0,f,g,a)>b){d=-1}for(var e=0;e<50;e++){if(this.ifTargetGreater(b,c,d,f,g,a)){d+=h}else{d-=h}h=h/2}return d};KJE.InvestmentVariablesCalc.prototype.solveForEndingBalance=function(b,c,d,e,a){return KJE.FV_AMT(c,d,b)+(a?KJE.FV_BEGIN(c,d,e):KJE.FV(c,d,e))};KJE.InvestmentVariablesCalc.prototype.ifTargetGreater=function(b,c,d,e,f,a){return(b>this.solveForEndingBalance(c,d,e,f,a))};KJE.InvestmentVariablesCalc.prototype.ifTargetSmaller=function(b,c,d,e,f,a){return(b<this.solveForEndingBalance(c,d,e,f,a))};KJE.Default.COMPOUND_DAILY=0;KJE.Default.COMPOUND_MONTHLY=1;KJE.Default.COMPOUND_QRTLY=2;KJE.Default.COMPOUND_SEMI=3;KJE.Default.COMPOUND_ANNUALLY=4;KJE.Default.COMPOUND_INDEX=KJE.parameters.get("ARRAY_COMPOUND_INDEX",[KJE.Default.COMPOUND_DAILY,KJE.Default.COMPOUND_MONTHLY,KJE.Default.COMPOUND_QRTLY,KJE.Default.COMPOUND_SEMI,KJE.Default.COMPOUND_ANNUALLY]);KJE.Default.COMPOUND_DESC=KJE.parameters.get("ARRAY_COMPOUND_DESC",["compound daily","compound monthly","compound quarterly","compound semi-annually","compound annually"]);KJE.Default.COMPOUND_SELECTIONS=KJE.parameters.get("ARRAY_COMPOUND_SELECTIONS",["Daily","Monthly","Quarterly","Semi-Annually","Annually"]);KJE.Default.COMPOUND_FREQ=[360,12,4,2,1];KJE.Default.SAVE_WEEKLY=0;KJE.Default.SAVE_BIWEEKLY=1;KJE.Default.SAVE_MONTHLY=2;KJE.Default.SAVE_QUARTERLY=3;KJE.Default.SAVE_YEARLY=4;KJE.Default.SAVE_INDEX=KJE.parameters.get("ARRAY_SAVE_INDEX",[KJE.Default.SAVE_WEEKLY,KJE.Default.SAVE_BIWEEKLY,KJE.Default.SAVE_MONTHLY,KJE.Default.SAVE_QUARTERLY,KJE.Default.SAVE_YEARLY]);KJE.Default.SAVE_DESC=KJE.parameters.get("ARRAY_SAVE_DESC",["every week","every two weeks","per month","per quarter","per year"]);KJE.Default.SAVE_SHORT_DESC=KJE.parameters.get("ARRAY_SAVE_SHORT_DESC",["weekly","two week","monthly","quarterly","yearly"]);KJE.Default.SAVE_FREQ=[52,26,12,4,1];KJE.CalcName="Investment Goal";KJE.CalcType="InvestmentVariables";KJE.CalculatorTitleTemplate="KJE1";KJE.parseInputs=function(b){var a=KJE.getDropBox("FREQ_INDEX",KJE.parameters.get("FREQ_INDEX",KJE.Default.SAVE_MONTHLY),KJE.Default.SAVE_INDEX,KJE.Default.SAVE_DESC);b=KJE.replace("**FREQ_INDEX**",a,b);a=KJE.getDropBox("COMPOUND_INDEX",KJE.parameters.get("COMPOUND_INDEX",KJE.Default.COMPOUND_ANNUALLY),KJE.Default.COMPOUND_INDEX,KJE.Default.COMPOUND_DESC);b=KJE.replace("**COMPOUND_INDEX**",a,b);return b};KJE.initialize=function(){KJE.CalcControl=new KJE.InvestmentVariablesCalc();KJE.GuiControl=new KJE.InvestmentVariables(KJE.CalcControl)};KJE.InvestmentVariables=function(k){var f=KJE;var b=KJE.gLegend;var h=KJE.inputs.items;this.MSG_GRAPH1=KJE.parameters.get("MSG_GRAPH1","Tax-Deferred");this.MSG_GRAPH2=KJE.parameters.get("MSG_GRAPH2","Taxable");this.MSG_GRAPH3=KJE.parameters.get("MSG_GRAPH3","Taxable after inflation");this.MSG_GRAPH4=KJE.parameters.get("MSG_GRAPH4",this.MSG_GRAPH1+" "+KJE.MSG_YEAR_LBL);this.MSG_GRAPH5=KJE.parameters.get("MSG_GRAPH5",this.MSG_GRAPH2+" "+KJE.MSG_YEAR_LBL);KJE.DollarSlider("AMT_TARGET","Investment goal",1,10000000,0,0,3,"KJEBold");KJE.NumberSlider("YEARS_TO_SAVE","Years to accumulate",1,100,0);KJE.DollarSlider("AMT_CURRENT","Amount of initial investment",0,10000000,0,0,3);KJE.DollarSlider("AMT_SAVE_PERIOD","Periodic contribution",0,10000000,0,0,1);KJE.InvestRateSlider("ROR_INVEST","Rate of return on investment");KJE.PercentSlider("FED_TAX_RATE","Federal marginal tax rate",0,50,1);KJE.PercentSlider("STATE_TAX_RATE","State marginal tax rate",0,50,1);KJE.InflationRateSlider("INFLATION_RATE","Expected inflation rate");KJE.DropBox("COMPOUND_INDEX","Compound interest");KJE.DropBox("FREQ_INDEX","Contribution frequency");KJE.Checkbox("PAYMENTS_AT_START","Make deposits",true,"At beginning of the period (uncheck for the end of the period)");KJE.Checkbox("STATE_TAXES_DEDUCTIBLE","Deductible state taxes",true,"Check here if your state taxes are deductible on your Federal return");var i=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH1",true,false,KJE.colorList[1],k.MSG_GRAPH_TITLE);i._legend._iOrientation=(b.RIGHT);i._titleXAxis.setText(k.MSG_YEAR_LBL);i._axisX._fSpacingPercent=0.3;i._showItemLabel=false;KJE.addDiv("INPUTS",KJE.colorList[0]);var a=KJE.parameters.get("MSG_DROPPER_TITLE","Investment plan:");var d=KJE.parameters.get("MSG_DROPPER_CLOSETITLE","An initial investment of KJE3 and contributions of KJE4 KJE2 for KJE1 years.");var g=function(){return a+KJE.subText(KJE.getKJEReplaced(d,h.YEARS_TO_SAVE.getFormatted(),k.SAVING_FREQUENCY,h.AMT_CURRENT.getFormatted(),h.AMT_SAVE_PERIOD.getFormatted()),"KJECenter")};KJE.addDropper(new KJE.Dropper("INPUTS2",true,a,g),KJE.colorList[0]);var c=KJE.parameters.get("MSG_DROPPER2_TITLE","Investment taxes and inflation:");var e=KJE.parameters.get("MSG_DROPPER2_CLOSETITLE"," KJE1 inflation, KJE2 Federal Tax Rate , KJE3 State Tax rate");var j=function(){return c+KJE.subText(KJE.getKJEReplaced(e,h.INFLATION_RATE.getFormatted(),h.FED_TAX_RATE.getFormatted(),h.STATE_TAX_RATE.getFormatted()),"KJECenter")};KJE.addDropper(new KJE.Dropper("INPUTS3",false,c,j),KJE.colorList[0])};KJE.InvestmentVariables.prototype.setValues=function(b){var a=KJE.inputs.items;b.PAYMENTS_AT_START=a.PAYMENTS_AT_START.getValue();b.COMPOUND_INDEX=a.COMPOUND_INDEX.getValue();b.FREQ_INDEX=a.FREQ_INDEX.getValue();b.STATE_TAXES_DEDUCTIBLE=a.STATE_TAXES_DEDUCTIBLE.getValue();b.AMT_TARGET=a.AMT_TARGET.getValue();b.YEARS_TO_SAVE=a.YEARS_TO_SAVE.getValue();b.AMT_CURRENT=a.AMT_CURRENT.getValue();b.AMT_SAVE_PERIOD=a.AMT_SAVE_PERIOD.getValue();b.ROR_INVEST=a.ROR_INVEST.getValue();b.FED_TAX_RATE=a.FED_TAX_RATE.getValue();b.STATE_TAX_RATE=a.STATE_TAX_RATE.getValue();b.INFLATION_RATE=a.INFLATION_RATE.getValue()};KJE.InvestmentVariables.prototype.refresh=function(e){var d=KJE;var c=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];KJE.setTitleTemplate(e.YOU_MADE_IT);a.removeAll();a.setGraphCategories(e.cats);a.add(new KJE.gGraphDataSeries(e.DS_CURRENT,this.MSG_GRAPH1+" ",a.getColor(1),d.dollars(e.CURRENT_ENDING_BALANCE),this.MSG_GRAPH4));a.add(new KJE.gGraphDataSeries(e.DS_NEW,this.MSG_GRAPH2+" ",a.getColor(2),d.dollars(e.CURRENT_ENDING_BALANCE_AF),this.MSG_GRAPH5));a.setTitle(e.MSG_GRAPH_RESULT);a.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS> <div id='KJE-C-AMT_TARGET'><input id='KJE-AMT_TARGET' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS2><div id=KJE-P-INPUTS2>Input information:</div></div> <div id=KJE-E-INPUTS2 > <div id='KJE-C-YEARS_TO_SAVE'><input id='KJE-YEARS_TO_SAVE' /></div> <div id='KJE-C-AMT_CURRENT'><input id='KJE-AMT_CURRENT' /></div> <div id='KJE-C-ROR_INVEST'><input id='KJE-ROR_INVEST' /></div> <div id='KJE-C-AMT_SAVE_PERIOD'><input id='KJE-AMT_SAVE_PERIOD' /></div> <div id='KJE-C-FREQ_INDEX'>**FREQ_INDEX**</div> <div id='KJE-C-COMPOUND_INDEX'>**COMPOUND_INDEX**</div> <div id='KJE-C-PAYMENTS_AT_START'><input id='KJE-PAYMENTS_AT_START' type=checkbox name='PAYMENTS_AT_START' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS3><div id=KJE-P-INPUTS3>Input information:</div></div> <div id=KJE-E-INPUTS3 > <div id='KJE-C-INFLATION_RATE'><input id='KJE-INFLATION_RATE' /></div> <div id='KJE-C-FED_TAX_RATE'><input id='KJE-FED_TAX_RATE' /></div> <div id='KJE-C-STATE_TAX_RATE'><input id='KJE-STATE_TAX_RATE' /></div> <div id='KJE-C-STATE_TAXES_DEDUCTIBLE'><input id='KJE-STATE_TAXES_DEDUCTIBLE' type=checkbox name='STATE_TAXES_DEDUCTIBLE' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** ";KJE.DefinitionText=" <div id='KJE-D-AMT_TARGET' ><dt>Investment goal</dt><dd>Your goal for the total value of your investment or investments.</dd></div> <div id='KJE-D-YEARS_TO_SAVE' ><dt>Years to accumulate</dt><dd>The number of years you have to save.</dd></div> <div id='KJE-D-AMT_CURRENT' ><dt>Amount of initial investment</dt><dd>Total amount you will initially invest or have currently have invested toward your investment goal.</dd></div> <div id='KJE-D-AMT_SAVE_PERIOD' ><dt>Periodic contribution</dt><dd>The amount you will contribute each period to your investment. You are also able to select whether you wish to have your contribution happen at the beginning or the end of the period.</dd></div> <div id='KJE-D-FREQ_INDEX' ><dt>Contribution frequency</dt><dd>The frequency you will make regular contributions to this investment.</dd></div> <div id='KJE-D-COMPOUND_INDEX' ><dt>Compound interest</dt><dd>Interest on an investment's interest, plus previous interest. The more frequently this occurs, the sooner your accumulated interest will generate additional interest. You should check with your financial institution to find out how often interest is being compounded on your particular investment.</dd></div> <div id='KJE-D-PAYMENTS_AT_START' ><dt>Make deposits at beginning of the period</dt><dd>Check this box to have all additional contributions happen at the beginning of each period. Uncheck this box for the end of the period. Making contributions at the beginning of each period allows your money to begin earning a return immediately increasing your return. </dd></div> <div id='KJE-D-ROR_INVEST'><dt>Rate of return on investment</dt><dd>This is the rate of return you expect from your investments. You are also able to select the frequency that earnings are compounded in your investment account. **ROR_DEFINITION**</dd></div> <div id='KJE-D-INFLATION_RATE' ><dt>Expected inflation rate</dt><dd>**INFLATION_DEFINITION** <!--STARTHIDETAXES--></dd></div> <div id='KJE-D-FED_TAX_RATE' ><dt>Federal marginal tax rate</dt><dd>Your Federal marginal tax rate. **TAXTABLE_CURRENT_DEFINITION**</dd></div> <div id='KJE-D-STATE_TAX_RATE' ><dt>State marginal tax rate</dt><dd>Your marginal state tax rate. If your state taxes are deductible on your Federal return, we will take this into account when calculating your combined state and Federal marginal tax rate. <!--ENDHIDETAXES--></dd></div> <div id='KJE-D-STATE_TAXES_DEDUCTIBLE' ><dt>Deductible state taxes</dt><dd>Check here if your state taxes are deductible on your Federal return. Generally speaking if you itemize your deductions on Schedule A of your Federal return you should check this box. </dd></div> ";KJE.ReportText=' <!--HEADING "Investment Goal " HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>YOU_MADE_IT</h2> An initial investment of AMT_CURRENT and contributions of AMT_SAVE_PERIOD SAVING_FREQUENCY_LOWER may total CURRENT_ENDING_BALANCE in YEARS_TO_SAVE years. <p>This assumes you have <!--STARTHIDETAXES-->a tax-deferred investment with <!--ENDHIDETAXES-->a rate of return of ROR_INVEST that compounds COMPOUND_SELECTION_LOWER. It also assumes that all new contributions happen at the PAYMENTS_AT_START of each SAVING_FREQUENCY_SHORT period. <!--STARTHIDETAXES-->If your investment\'s earnings were taxable at a combined marginal tax rate of MARGINAL_TAX_RATE, your ending balance would be reduced to CURRENT_ENDING_BALANCE_AF.<!--ENDHIDETAXES--> After <!--STARTHIDETAXES-->taxes and <!--ENDHIDETAXES-->INFLATION_RATE annually for inflation, your total would be further reduced to CURRENT_ENDING_BALANCE_AFI. **GRAPH** <p>CHANGE_MSG <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Results Summary</caption> <tr class=KJEOddRow><td class="KJELabel KJECellBorder KJECell70">Investment goal </td><td class="KJECell">AMT_TARGET</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Number of years to accumulate </td><td class="KJECell">YEARS_TO_SAVE</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Amount of initial investment </td><td class="KJECell">AMT_CURRENT</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Periodic contribution </td><td class="KJECell">AMT_SAVE_PERIOD SAVING_FREQUENCY_LOWER</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Rate of return on investment </td><td class="KJECell">ROR_INVEST<BR>Compounded COMPOUND_SELECTION</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Expected inflation rate </td><td class="KJECell">INFLATION_RATE</td></tr><!--STARTHIDETAXES--> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Federal marginal tax rate </td><td class="KJECell">FED_TAX_RATE</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">State marginal tax rate </td><td class="KJECell">STATE_TAX_RATE</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">State taxes deductible on Federal return?</td><td class="KJECell">STATE_TAXES_DEDUCTIBLE</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Combined marginal tax rate</td><td class="KJECell">MARGINAL_TAX_RATE</td></tr><!--ENDHIDETAXES--> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder"><!--STARTHIDETAXES-->Tax-Deferred <!--ENDHIDETAXES-->Investment Total</td><td class="KJECellStrong">CURRENT_ENDING_BALANCE</td></tr><!--STARTHIDETAXES--> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder">Taxable Investment Total</td><td class="KJECellStrong">CURRENT_ENDING_BALANCE_AF</td></tr><!--ENDHIDETAXES--> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder"><!--STARTHIDETAXES-->Taxable Investment <!--ENDHIDETAXES-->After Inflation</td><td class="KJECellStrong">CURRENT_ENDING_BALANCE_AFI</td></tr></table> </div> <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Investment Results by Year</h2> **REPEATING GROUP** ';